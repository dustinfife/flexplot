% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_logistic_overlay.R
\name{logistic_overlay}
\alias{logistic_overlay}
\title{Add Logistic Overlay to Plot}
\usage{
logistic_overlay(
  plot = NULL,
  data = NULL,
  formula = NULL,
  n_bins = 10,
  type = "dot",
  scale = "probability",
  ...
)
}
\arguments{
\item{plot}{A flexplot object to add the overlay to. If NULL, a new plot will 
be created using the formula and data parameters.}

\item{data}{A data frame containing the variables specified in the formula. 
Required if plot is NULL.}

\item{formula}{A formula specifying the relationship between variables 
(outcome ~ predictor). Required if plot is NULL.}

\item{n_bins}{Integer specifying the number of bins to create along the 
x-axis for summarizing the data. Default is 10.}

\item{type}{Character string specifying the type of overlay visualization. 
Options are "dot" for point overlay or "bar" for rectangle overlay. 
Default is "dot".}

\item{scale}{Character string specifying the scale for the y-axis. Options are 
"probability" (default) or "logit" for log odds scale.}

\item{...}{Additional arguments passed to flexplot() when creating a new plot.}
}
\value{
A ggplot object with the logistic overlay added. The overlay includes:
  \itemize{
    \item Binned observed proportions (as points or rectangles)
    \item A dashed horizontal reference line at y = 0.5
    \item The original fitted logistic curve
  }
}
\description{
Adds a logistic overlay visualization to an existing flexplot or creates a new
plot with logistic overlay. The overlay shows binned observed proportions 
compared to the fitted logistic regression line, with a reference line at 0.5.
}
\details{
This function is designed to work with binary outcome variables in logistic 
regression contexts. It bins the predictor variable and calculates observed 
proportions within each bin, allowing visual comparison with the fitted 
logistic regression line.

The function can either:
\itemize{
  \item Add an overlay to an existing flexplot object
  \item Create a new plot from a formula and data
}
}
\examples{
\dontrun{
# Create overlay on existing plot
p <- flexplot(died ~ agility, data = avengers, method = "logistic")
logistic_overlay(plot = p, n_bins = 15, type = "dot")

# Create new plot with overlay
logistic_overlay(formula = died ~ agility, data = avengers, 
                 n_bins = 8, type = "bar")
}

}
\seealso{
\code{\link{flexplot}} for creating the base plots
}
